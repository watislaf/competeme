{"openapi":"3.0.1","info":{"title":"API","version":"1"},"servers":[{"url":"http://localhost:8080"}],"paths":{"/api/v1/users/{userId}/friends/sendRequest":{"post":{"tags":["friendship-controller"],"operationId":"sendFriendRequest","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendshipRequest"}}},"required":true},"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/remove":{"post":{"tags":["friendship-controller"],"operationId":"removeFriend","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendshipRequest"}}},"required":true},"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/cancel":{"post":{"tags":["friendship-controller"],"operationId":"cancelFriendRequest","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendshipRequest"}}},"required":true},"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/accept":{"post":{"tags":["friendship-controller"],"operationId":"acceptFriendRequest","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendshipRequest"}}},"required":true},"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/challenges/{challengeId}/progress":{"post":{"tags":["challenge-controller"],"operationId":"updateProgress","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"challengeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"progress","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/challenges/{challengeId}/modify":{"post":{"tags":["challenge-controller"],"operationId":"modifyChallenge","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"challengeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeModificationRequest"}}},"required":true},"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/challenges/":{"get":{"tags":["challenge-controller"],"operationId":"getChallenges","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChallengeResponse"}}}}}},"security":[{"JwtAuth":[]}]},"post":{"tags":["challenge-controller"],"operationId":"addChallenge","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeRequest"}}},"required":true},"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/activities/{activityId}/progress":{"post":{"tags":["activity-controller"],"operationId":"addProgress","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"activityId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"progressInMinutes","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/activities/":{"get":{"tags":["activity-controller"],"operationId":"getActivities","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserActivityResponse"}}}}},"security":[{"JwtAuth":[]}]},"post":{"tags":["activity-controller"],"operationId":"addActivity","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivityRequest"}}},"required":true},"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/auth/register":{"post":{"tags":["authentication-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/v1/auth/refresh-token":{"post":{"tags":["authentication-controller"],"operationId":"refresh","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/v1/auth/authenticate":{"post":{"tags":["authentication-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/v1/users/{userId}/stats/":{"get":{"tags":["stats-controller"],"operationId":"getStats","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StatsResponse"}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/profile":{"get":{"tags":["user-controller"],"operationId":"getUserProfile","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/statuses":{"get":{"tags":["friendship-controller"],"operationId":"getStatuses","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"receiverIds","in":"query","required":true,"schema":{"type":"array","items":{"$ref":"#/components/schemas/FriendshipRequest"}}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Friendship"}}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/status/{receiverId}":{"get":{"tags":["friendship-controller"],"operationId":"isFriend","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"receiverId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/sent":{"get":{"tags":["friendship-controller"],"operationId":"getSentFriendRequests","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"integer","format":"int32"}}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/request":{"get":{"tags":["friendship-controller"],"operationId":"getFriendRequests","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"integer","format":"int32"}}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/pending/{receiverId}":{"get":{"tags":["friendship-controller"],"operationId":"hasPendingRequest","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"receiverId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/friends/":{"get":{"tags":["friendship-controller"],"operationId":"getFriends","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"integer","format":"int32"}}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/search":{"get":{"tags":["user-controller"],"operationId":"searchUsers","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserSearchResponse"}}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/auth/email":{"get":{"tags":["authentication-controller"],"operationId":"getEmail","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/challenges/{challengeId}":{"delete":{"tags":["challenge-controller"],"operationId":"deleteChallenge","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"challengeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}},"/api/v1/users/{userId}/activities/{activityId}":{"delete":{"tags":["activity-controller"],"operationId":"deleteActivity","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"activityId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}},"security":[{"JwtAuth":[]}]}}},"components":{"schemas":{"FriendshipRequest":{"required":["receiverId"],"type":"object","properties":{"receiverId":{"type":"integer","format":"int32"}}},"ChallengeModificationRequest":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"goal":{"type":"integer","format":"int32"},"unit":{"type":"string"},"participants":{"type":"array","items":{"type":"string"}}}},"ChallengeRequest":{"required":["description","goal","participants","title","unit"],"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"goal":{"type":"integer","format":"int32"},"unit":{"type":"string"},"participants":{"type":"array","items":{"type":"integer","format":"int32"}}}},"ActivityRequest":{"required":["duration","title","type"],"type":"object","properties":{"title":{"type":"string"},"type":{"type":"string","enum":["BEER","BOOK","BRIEFCASE","BRUSH","CALENDAR","CAMERA","CAR","CHEF_HAT","CIGARETTE","CLAPPERBOARD","CLOCK","CODE","COFFEE","DUMBBELL","GAMEPAD","HEART","MUSIC","PARTY","PEN","PHONE","PIZZA","PLANE","SHOPPING","STAR","USERS"]},"duration":{"type":"integer","format":"int64"}}},"RegistrationRequest":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"AuthenticationResponse":{"required":["accessToken","refreshToken","userId"],"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"userId":{"type":"integer","format":"int32"}}},"AuthenticationRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"ActivityBreakdown":{"required":["activityName","duration"],"type":"object","properties":{"activityName":{"type":"string"},"duration":{"type":"number","format":"double"}}},"ActivityStat":{"required":["activityName","duration"],"type":"object","properties":{"activityName":{"type":"string"},"duration":{"type":"string"}}},"MonthlyStat":{"required":["duration","week"],"type":"object","properties":{"week":{"type":"string"},"duration":{"type":"number","format":"double"}}},"MostActiveDay":{"required":["averageDuration","dayOfWeek"],"type":"object","properties":{"dayOfWeek":{"type":"string"},"averageDuration":{"type":"string"}}},"StatsResponse":{"required":["activityBreakdown","currentStreak","longestStreak","monthlyStats","mostActiveDay","mostFrequentActivity","timeLoggedToday","topActivity","totalTimeLastWeek","totalTimeLogged","totalTimeThisWeek","weeklyStats"],"type":"object","properties":{"totalTimeThisWeek":{"type":"string"},"currentStreak":{"type":"string"},"longestStreak":{"type":"string"},"mostActiveDay":{"$ref":"#/components/schemas/MostActiveDay"},"timeLoggedToday":{"type":"string"},"totalTimeLogged":{"type":"string"},"mostFrequentActivity":{"$ref":"#/components/schemas/ActivityStat"},"topActivity":{"$ref":"#/components/schemas/ActivityStat"},"activityBreakdown":{"type":"array","items":{"$ref":"#/components/schemas/ActivityBreakdown"}},"weeklyStats":{"type":"array","items":{"$ref":"#/components/schemas/WeeklyStat"}},"monthlyStats":{"type":"array","items":{"$ref":"#/components/schemas/MonthlyStat"}},"totalTimeLastWeek":{"type":"string"}}},"WeeklyStat":{"required":["dayOfWeek","duration"],"type":"object","properties":{"dayOfWeek":{"type":"string"},"duration":{"type":"number","format":"double"}}},"UserProfileResponse":{"required":["dateJoined","email","id","name","role"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"email":{"type":"string"},"imageUrl":{"type":"string"},"dateJoined":{"type":"string","format":"date-time"},"role":{"type":"string"}}},"Friendship":{"required":["id","status"],"type":"object","properties":{"id":{"$ref":"#/components/schemas/FriendshipKey"},"status":{"type":"string","enum":["PENDING","ACCEPTED"]}}},"FriendshipKey":{"required":["receiverId","senderId"],"type":"object","properties":{"senderId":{"type":"integer","format":"int32"},"receiverId":{"type":"integer","format":"int32"}}},"ChallengeResponse":{"required":["description","goal","id","isCompleted","leaderboard","participants","title","totalProgress","unit"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"goal":{"type":"integer","format":"int32"},"unit":{"type":"string"},"participants":{"type":"array","items":{"$ref":"#/components/schemas/ParticipantResponse"}},"totalProgress":{"type":"integer","format":"int32"},"leaderboard":{"type":"array","items":{"$ref":"#/components/schemas/LeaderboardEntry"}},"isCompleted":{"type":"boolean"}}},"LeaderboardEntry":{"required":["score","userId"],"type":"object","properties":{"userId":{"type":"integer","format":"int32"},"score":{"type":"integer","format":"int32"}}},"ParticipantResponse":{"required":["progres","userId","username"],"type":"object","properties":{"username":{"type":"string"},"userId":{"type":"integer","format":"int32"},"progres":{"type":"integer","format":"int32"}}},"ActivityResponse":{"required":["id","title","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"type":{"type":"string","enum":["BEER","BOOK","BRIEFCASE","BRUSH","CALENDAR","CAMERA","CAR","CHEF_HAT","CIGARETTE","CLAPPERBOARD","CLOCK","CODE","COFFEE","DUMBBELL","GAMEPAD","HEART","MUSIC","PARTY","PEN","PHONE","PIZZA","PLANE","SHOPPING","STAR","USERS"]}}},"RecentActivityResponse":{"required":["duration","id","title","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"type":{"type":"string","enum":["BEER","BOOK","BRIEFCASE","BRUSH","CALENDAR","CAMERA","CAR","CHEF_HAT","CIGARETTE","CLAPPERBOARD","CLOCK","CODE","COFFEE","DUMBBELL","GAMEPAD","HEART","MUSIC","PARTY","PEN","PHONE","PIZZA","PLANE","SHOPPING","STAR","USERS"]},"duration":{"type":"string"}}},"UserActivityResponse":{"required":["available","recent"],"type":"object","properties":{"available":{"type":"array","items":{"$ref":"#/components/schemas/ActivityResponse"}},"recent":{"type":"array","items":{"$ref":"#/components/schemas/RecentActivityResponse"}}}},"UserSearchResponse":{"required":["id","imageUrl","username"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"username":{"type":"string"},"imageUrl":{"type":"string"}}}},"securitySchemes":{"JwtAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}